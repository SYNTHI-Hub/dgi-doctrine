from django.urls import path, include
from rest_framework.routers import DefaultRouter
from rest_framework.documentation import include_docs_urls
from . import views

router = DefaultRouter()

# Enregistrement des ViewSets
router.register(r'users', views.UserViewSet, basename='user')
router.register(r'themes', views.ThemeViewSet, basename='theme')
router.register(r'document-categories', views.DocumentCategoryViewSet, basename='documentcategory')
router.register(r'documents', views.DocumentViewSet, basename='document')
router.register(r'document-contents', views.DocumentContentViewSet, basename='documentcontent')
router.register(r'topics', views.TopicViewSet, basename='topic')
router.register(r'sections', views.SectionViewSet, basename='section')
router.register(r'paragraphs', views.ParagraphViewSet, basename='paragraph')
router.register(r'tables', views.TableViewSet, basename='table')




# URLs de l'application
urlpatterns = [
    # API principale
    path('api/v1/', include(router.urls)),

    # Documentation de l'API
    path('api/docs/', include_docs_urls(title='Document Management API')),

    # Authentification DRF
    path('api-auth/', include('rest_framework.urls')),
]

# URLs nommées pour les actions personnalisées
app_name = 'documents'